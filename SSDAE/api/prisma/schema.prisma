generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:popohq14@localhost:5432/test"
}

model Alumnos {
  id_alumno BigInt   @id(map: "id_alumno") @default(autoincrement())
  estatus   String   @db.VarChar
  fecha_ing DateTime @db.Date
}

model Profesores {
  id_profesor     BigInt @id(map: "id_profesor") @default(autoincrement())
  interno_externo BigInt
}

model Recuperaciones {
  id_usuario       BigInt   @default(autoincrement())
  token            String   @db.VarChar
  fecha_expiracion DateTime @db.Date
  Usuarios         Usuarios @relation(fields: [id_usuario], references: [id_usuario], onDelete: NoAction, onUpdate: NoAction, map: "id_usuario")

  @@id([id_usuario, token], map: "id_usertoken")
}

model Usuarios {
  id_usuario     BigInt           @id @default(autoincrement())
  correo         String           @db.VarChar
  contrasena     String           @db.VarChar
  tipo_usuario   String           @db.VarChar
  nombre         String           @db.VarChar
  ap_p           String           @db.VarChar
  ap_m           String           @db.VarChar
  Recuperaciones Recuperaciones[]
}
